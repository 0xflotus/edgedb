//
// Copyright (c) 2013 Sprymix Inc.
// All rights reserved.
//
// See LICENSE for details.
//


import unittest

from metamagic.utils.lang.jplus import byteutils


class TestByteutils(unittest.TestCase) {
    fn test_utils_lang_jp_byteutils_1() {
        this.assertEqual(byteutils.unhexlify('ff'), [255])
        this.assertEqual(byteutils.unhexlify('aaff'), [170, 255])

        with this.assertThrows(ValueError, 'Odd-length') {
            byteutils.unhexlify('f')
        }
    }

    fn test_utils_lang_jp_byteutils_2() {
        str = 'Δ, Й, ק, م, ๗, あ, 叶, 葉, and 말'
        this.assertEqual(
            byteutils.toBytes(str),
            [206, 148, 44, 32, 208, 153, 44, 32, 215, 167, 44,
             32, 217, 133, 44, 32, 224, 185, 151, 44, 32, 227,
             129, 130, 44, 32, 229, 143, 182, 44, 32, 232, 145,
             137, 44, 32, 97, 110, 100, 32, 235, 167, 144])

        str = 'abcd'
        this.assertEqual(byteutils.toBytes(str), [97, 98, 99, 100])
    }
}
